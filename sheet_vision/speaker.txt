import RPi.GPIO as GPIO
import time
import pygame

# Set up the GPIO pins
GPIO.setmode(GPIO.BCM)
GPIO.setup(18, GPIO.OUT)

# Initialize pygame mixer
pygame.mixer.init()

# Load the audio file
audio_file = "example_audio.mp3"
pygame.mixer.music.load(audio_file)

# Play the audio file
pygame.mixer.music.play()

# Wait for the audio to finish playing
while pygame.mixer.music.get_busy():
    # Turn the speaker on
    GPIO.output(18, GPIO.HIGH)
    time.sleep(0.1)

    # Turn the speaker off
    GPIO.output(18, GPIO.LOW)
    time.sleep(0.1)

# Clean up the GPIO pins
GPIO.cleanup()